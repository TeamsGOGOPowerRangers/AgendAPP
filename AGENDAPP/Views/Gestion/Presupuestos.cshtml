
@{
	ViewBag.Title = "Presupuestos";
}

<div class="container-fluid">


	<div class="row">
		<div class="col-lg-12">
			<h2 class="page-header">Gestión de Presupuestos</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					Presupuestos Registrados
				</div>
				<div class="panel-body">
					<div id="tblData_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
						<div class="toolbar" style="float: left;">
							<button class="btn btn-primary mr-3" data-toggle="tooltip" data-placement="right" title="" data-original-title="Crear nuevo presupuesto"><span class="fa fa-plus"></span> Crear</button>
						</div>
						<div id="tblData_filter" class="dataTables_filter">
							<label>Buscar:<input type="search" class="form-control input-sm ml-2" placeholder="" aria-controls="tblData"></label>
						</div>
						<div id="tblData_processing" class="dataTables_processing" style="display: none;">Procesando...</div>
						<table width="100%" class="table table-info table-striped table-bordered table-hover dataTable no-footer dtr-inline collapsed" id="tblData" role="grid" aria-describedby="tblData_info" style="width: 100%;">
							<thead>
								<tr role="row">
									<th class="sorting_desc" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 53px;" aria-sort="descending" aria-label="Número: Activar para ordenar la columna de manera ascendente">Número</th>
									<th class="sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 58px;" aria-label="Vigencia: Activar para ordenar la columna de manera ascendente">Vigencia</th>
									<th class="sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 58px;" aria-label="Paciente: Activar para ordenar la columna de manera ascendente">Paciente</th>
									<th class=" sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 37px;" aria-label="Valor: Activar para ordenar la columna de manera ascendente">Valor</th>
									<th class=" sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 72px;" aria-label="Descuento: Activar para ordenar la columna de manera ascendente">Descuento</th>
									<th class=" sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 36px;" aria-label="Total: Activar para ordenar la columna de manera ascendente">Total</th>
									<th class=" sorting" tabindex="0" aria-controls="tblData" rowspan="1" colspan="1" style="width: 62px;" aria-label="Creación: Activar para ordenar la columna de manera ascendente">Creación</th>
								</tr>
							</thead>
							<tbody>
								<tr class="odd">
									<td valign="top" colspan="10" class="dataTables_empty">Ningún dato disponible en esta tabla</td>
								</tr>
							</tbody>
						</table>
						<div class="dataTables_info" id="tblData_info" role="status" aria-live="polite">Mostrando registros del 0 al 0 de un total de 0 registros</div>
						<div class="dataTables_paginate paging_full_numbers" id="tblData_paginate">
							<ul class="pagination">
								<li class="paginate_button first disabled" aria-controls="tblData" tabindex="0" id="tblData_first">
									<a href="#">Primero</a>
								</li>
								<li class="paginate_button previous disabled" aria-controls="tblData" tabindex="0" id="tblData_previous">
									<a href="#">Anterior</a>
								</li>
								<li class="paginate_button next disabled" aria-controls="tblData" tabindex="0" id="tblData_next">
									<a href="#">Siguiente</a>
								</li>
								<li class="paginate_button last disabled" aria-controls="tblData" tabindex="0" id="tblData_last">
									<a href="#">Último</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--#region Modal -->
	<div class="modal fade" id="mdlPresupuesto" tabindex="-1" role="dialog" aria-labelledby="mdlPresupuestoLabel">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="mdlPresupuestoLabel">
						<span class="fa fa-plus"></span> Crear Presupuesto
					</h4>
				</div>
				<div class="modal-body">
					<div>
						<!-- Nav tabs -->
						<ul class="nav nav-tabs bordered" role="tablist">
							<li role="presentation" class="active">
								<a href="#datos" aria-controls="datos" role="tab" data-toggle="tab">Datos Generales <span class="fa"></span></a>
							</li>
							<li role="presentation">
								<a href="#prestaciones" aria-controls="prestaciones" role="tab" data-toggle="tab">Prestaciones <span class="fa"></span></a>
							</li>
							<li role="presentation">
								<a href="#recursos" aria-controls="recursos" role="tab" data-toggle="tab">Recursos <span class="fa"></span></a>
							</li>
							<li role="presentation">
								<a href="#articulos" aria-controls="articulos" role="tab" data-toggle="tab">Artículos <span class="fa"></span></a>
							</li>
						</ul>
						<!-- Tab panes -->
						<div class="tab-content bordered">
							<div role="tabpanel" class="tab-pane active" id="datos">
								<form class="form-horizontal interline5 sub datos">
									<br>
									<div class="form-group">
										<label class="col-md-3 control-label num hidden" for="txtNumero">Número:</label>
										<div class="col-md-3 num hidden">
											<input type="text" class="form-control" readonly="" id="txtNumero" value="" required="">
										</div>
										<label class="col-md-3 control-label" for="txtVigencia">Vigencia:</label>
										<div class="col-md-3">
											<div class="btn-group bootstrap-select fit-width">
												<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboVigencia" title="Vigencia..."><span class="filter-option pull-left">Vigencia...</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
												<div class="dropdown-menu open">
													<ul class="dropdown-menu inner" role="menu"></ul>
												</div>
												<select id="cboVigencia" class="selectpicker" data-width="fit" title="Vigencia..." required="" tabindex="-98"><option class="bs-title-option" value="">Vigencia...</option></select>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-md-3 control-label" for="txtPaciente">Paciente:</label>
										<div class="col-md-9">
											<div class="input-group">
												<input type="search" id="txtPaciente" placeholder="Paciente" autocomplete="off" class="form-control" required="" data-required-error="Debe ingresar un paciente" data-suggest="/api/suggest/pacientes" data-suggest-triggerlength="3" data-suggest-resultlength="15" data-suggest-text="name">
												<span class="input-group-btn">
													<div class="btn-group bootstrap-select tps fit-width">
														<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboTPS_0000001" title="Todo"><span class="filter-option pull-left">Todo</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
														<div class="dropdown-menu open">
															<ul class="dropdown-menu inner" role="menu">
																<li data-original-index="0" class="selected">
																	<a tabindex="0" class="" style="" data-tokens="null"><span class="text">Todo</span><span class="glyphicon glyphicon-ok check-mark"></span></a>
																</li>
																<li data-original-index="1">
																	<a tabindex="0" class="" style="" data-tokens="null"><span class="text">Rut</span><span class="glyphicon glyphicon-ok check-mark"></span></a>
																</li>
																<li data-original-index="2">
																	<a tabindex="0" class="" style="" data-tokens="null"><span class="text">Nombre</span><span class="glyphicon glyphicon-ok check-mark"></span></a>
																</li>
																<li data-original-index="3">
																	<a tabindex="0" class="" style="" data-tokens="null"><span class="text">Téléfono</span><span class="glyphicon glyphicon-ok check-mark"></span></a>
																</li>
															</ul>
														</div>
														<select class="selectpicker tps" id="cboTPS_0000001" onchange="UTILS.ChangeTypeSearch(this);" data-width="fit" tabindex="-98">
															<option value="1" data-url="/api/suggest/pacientes" data-length="3">Todo</option>
															<option value="2" data-url="/api/suggest/pacientes_r" data-length="6">Rut</option>
															<option value="3" data-url="/api/suggest/pacientes_n" data-length="3">Nombre</option>
															<option value="4" data-url="/api/suggest/pacientes_f" data-length="6">Téléfono</option>
														</select>
													</div>
												</span>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-md-3 control-label" for="txtPrevision">Previsión:</label>
										<div class="col-md-9">
											<input type="search" id="txtPrevision" autocomplete="off" class="form-control" readonly="">
										</div>
									</div>
									<div class="form-group">
										<label class="col-xs-3 control-label" for="cboConvenio">Convenio/Descuento:</label>
										<div class="col-xs-2">
											<div class="input-group">
												<span class="input-group-btn">
													<div class="btn-group bootstrap-select" style="width: 350px;">
														<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboConvenio" title="Seleccione..."><span class="filter-option pull-left">Seleccione...</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
														<div class="dropdown-menu open">
															<ul class="dropdown-menu inner" role="menu"></ul>
														</div>
														<select class="selectpicker" id="cboConvenio" data-width="350px" title="Seleccione..." tabindex="-98"><option class="bs-title-option" value="">Seleccione...</option></select>
													</div>
												</span>
												<span class="input-group-btn">
													<button type="button" id="btnConvenioDel" class="btn btn-danger"><span class="fa fa-trash"></span></button>
												</span>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-md-3 control-label" for="txtObservaciones">Observaciones:</label>
										<div class="col-md-9">
											<textarea id="txtObservaciones" class="form-control" rows="4" maxlength="250"></textarea>
										</div>
									</div>
								</form>
							</div>
							<div role="tabpanel" class="tab-pane" id="prestaciones">
								<br>
								<form class="form-horizontal interline5 sub prestaciones">
									<div class="form-group">
										<div class="col-md-12">
											<table style="width:100%;" class="table table-striped table-bordered table-hover" id="tblPrestaciones">
												<caption>
													Prestaciones
													<div class="pull-right">
														<div class="form-inline">
															<div class="input-group">
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select" style="width: 350px;">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboP" title="Prestación..."><span class="filter-option pull-left">Prestación...</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<div class="bs-searchbox">
																				<input type="text" class="form-control" autocomplete="off">
																			</div>
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboP" data-width="350px" title="Prestación..." data-live-search="true" tabindex="-98"><option class="bs-title-option" value="">Prestación...</option></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select fit-width">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboPQty" title="Nothing selected"><span class="filter-option pull-left">Nothing selected</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboPQty" data-width="fit" tabindex="-98"></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<button type="button" id="btnAddPrestacion" class="btn btn-primary"><span class="fa fa-plus"></span></button>
																</span>
															</div>
														</div>
													</div>
												</caption>
												<thead>
													<tr>
														<th>Código</th>
														<th>Nombre</th>
														<th>Valor</th>
														<th>Descuento</th>
														<th>Total</th>
														<th>Acciones</th>
													</tr>
												</thead>
												<tbody></tbody>
											</table>
										</div>
									</div>
								</form>
							</div>
							<div role="tabpanel" class="tab-pane" id="recursos">
								<br>
								<form class="form-horizontal interline5 sub recursos">
									<div class="form-group">
										<div class="col-md-12">
											<table style="width:100%;" class="table table-striped table-bordered table-hover" id="tblRecursos">
												<caption>
													Recursos
													<div class="pull-right">
														<div class="form-inline">
															<div class="input-group">
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select" style="width: 350px;">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboR" title="Recurso..."><span class="filter-option pull-left">Recurso...</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<div class="bs-searchbox">
																				<input type="text" class="form-control" autocomplete="off">
																			</div>
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboR" data-width="350px" title="Recurso..." data-live-search="true" tabindex="-98"><option class="bs-title-option" value="">Recurso...</option></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select fit-width">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboRQty" title="Nothing selected"><span class="filter-option pull-left">Nothing selected</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboRQty" data-width="fit" tabindex="-98"></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<button type="button" id="btnAddRecurso" class="btn btn-primary"><span class="fa fa-plus"></span></button>
																</span>
															</div>
														</div>
													</div>
												</caption>
												<thead>
													<tr>
														<th>Nombre</th>
														<th>Valor</th>
														<th>Descuento</th>
														<th>Total</th>
														<th>Acciones</th>
													</tr>
												</thead>
												<tbody></tbody>
											</table>
										</div>
									</div>
								</form>
							</div>
							<div role="tabpanel" class="tab-pane" id="articulos">
								<br>
								<form class="form-horizontal interline5 sub articulos">
									<div class="form-group">
										<div class="col-md-12">
											<table style="width:100%;" class="table table-striped table-bordered table-hover" id="tblArticulos">
												<caption>
													Artículos
													<div class="pull-right">
														<div class="form-inline">
															<div class="input-group">
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select" style="width: 350px;">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboA" title="Artículo..."><span class="filter-option pull-left">Artículo...</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<div class="bs-searchbox">
																				<input type="text" class="form-control" autocomplete="off">
																			</div>
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboA" data-width="350px" title="Artículo..." data-live-search="true" tabindex="-98"><option class="bs-title-option" value="">Artículo...</option></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<div class="btn-group bootstrap-select fit-width">
																		<button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="cboAQty" title="Nothing selected"><span class="filter-option pull-left">Nothing selected</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button>
																		<div class="dropdown-menu open">
																			<ul class="dropdown-menu inner" role="menu"></ul>
																		</div>
																		<select class="selectpicker" id="cboAQty" data-width="fit" tabindex="-98"></select>
																	</div>
																</span>
																<span class="input-group-btn">
																	<button type="button" id="btnAddArticulo" class="btn btn-primary"><span class="fa fa-plus"></span></button>
																</span>
															</div>
														</div>
													</div>
												</caption>
												<thead>
													<tr>
														<th>Código</th>
														<th>Nombre</th>
														<th>Valor</th>
														<th>Descuento</th>
														<th>Total</th>
														<th>Acciones</th>
													</tr>
												</thead>
												<tbody></tbody>
											</table>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<div class="form-inline totalizado" role="form">
						<div class="col-md-4">
							<div class="input-group">
								<span class="input-group-addon" id="basic-addon-valor">Valor</span>
								<input type="text" placeholder="0" autocomplete="off" class="form-control valor text-right" readonly="" aria-describedby="basic-addon-valor">
							</div>
						</div>
						<div class="col-md-4">
							<div class="input-group">
								<span class="input-group-addon" id="basic-addon-descuento">Desc</span>
								<input type="text" placeholder="0" autocomplete="off" class="form-control descuento text-right" readonly="" aria-describedby=" basic-addon-descuento">
								<span class="input-group-addon"><a href="javascript:void(0)" role="button" data-toogle="helptip" data-width="500px" data-placement="right" data-id="5" class="" style="color: rgb(253, 129, 83);" data-original-title="" title=""><span class="fa fa-lg fa-question-circle-o"></span></a></span>
							</div>
						</div>
						<div class="col-md-4">
							<div class="input-group">
								<span class="input-group-addon" id="basic-addon-total">Total</span>
								<input type="text" id="txtTotal" placeholder="0" autocomplete="off" class="form-control total text-right" readonly="" aria-describedby="basic-addon-total">
							</div>
						</div>
					</div>
					<br>
					<br>
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-primary save"><span class="fa fa-floppy-o"></span> Guardar</button>
				</div>
			</div>
		</div>
	</div>
	<!--#endregion -->
	<script src="/js/gestion_presupuestos?v=Fm8Oj73hG-v_58jeBlt9H03OZkFRF4k7iE34NeE9yKw1"></script>


	<!-- /.row -->
</div>

